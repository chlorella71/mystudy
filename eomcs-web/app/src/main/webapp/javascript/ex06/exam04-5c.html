<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex06</title>
<style>
table {
  width: 600px;
}

tbody tr:hover {
  background-color: lightgray;
  color: white;
  cursor: pointer;
}

a {
  border: 1px dotted gray;
}
</style>
</head>
<body>
<h1>이벤트 - 이벤트 전파 기능을 이용하기</h1>
<table border="1">
<thead>
  <tr>
    <th>번호</th>
    <th>제목</th>
    <th>작성자</th>
    <th>등록일</th>
    <th>조회수</th>
  </tr>
</thead>
<tbody>
  <tr href="/board/view?no=1">
    <td>1</td>
    <td><a href="" onclick="return false;">제목</a></td>
    <td>홍길동</td>
    <td>2019-4-29</td>
    <td>100</td>
  </tr>
  <tr>
    <td>2</td>
    <td><a href="https://www.daum.net" onclick="return false;">제목</a></td>
    <td>임꺽정</td>
    <td>2019-4-29</td>
    <td>800</td>
  </tr>
  <tr>
    <td>3</td>
    <td><a href="https://www.daum.net" onclick="return false;">제목입니다.</a></td>
    <td>유관순</td>
    <td>2019-4-29</td>
    <td>900</td>
  </tr>
</tbody>
</table>
<script>
"use strict"

// 부모 태그에 리스너를 등록하면 
// 훨씬 더 광범위하게 클릭 이벤트를 처리할 수 있다.
// 즉 자식 태그의 이벤트를 부모 태그에서 처리할 수 있다. 
// 어떻게? 부모로 이벤트가 전파되는 기능을 이용하는 것이다.
var el = document.querySelectorAll("tbody > tr");

for (var e of el) {
  e.addEventListener("click", function(e) {
    // target은 실제 click 이벤트가 발생된 객체를 가리킨다.
    // console.log(e.target);

    // 우리가 원하는 것은 a 태그를 클릭하나 td 태그를 클릭하나 모두 동일하게 처리하고 싶다.
    // 그렇다면 어떤 자식태그를 선택하든지 상관없이 처리될 수 있도록
    // 버블 단계의 리스너에서 태그 객체의 정보를 알 고 싶다면
    // target 변수 대신 currentTarget 변수를 사용하라!!!!
    // 
    //window.location.href = e.target.getAttribute("href");
  });
}
<!--for (var e of el) {-->
<!--  e.addEventListener("click", function(e) {-->
<!--    // e.target 은 이벤트가 발생한 객체를 가리킨다.-->
<!--    // console.log(e.target);-->
<!--    // console.log(e.target.getAttribute("data-no") + " 번 게시물의 제목을 눌렀음!");-->
<!--    -->
<!--    // 리스너가 등록된 태그를 가리키고 싶다면,-->
<!--    // e.currentTarget 프로퍼티의 값을 사용하라!-->
<!--    console.log(e.currentTarget);-->
<!--    console.log(e.currentTarget.getAttribute("data-no") + " 번 게시물의 제목을 눌렀음!");-->
<!--    console.log("-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;");-->

<!--    // 자바스크립트에서 다른 페이지로 이동시킨다.-->
<!--    window.location.href = "https://www.daum.net/board?no=" + e.currentTarget.getAttribute("data-no");-->
<!--  });   -->
<!--}-->
</script>
</body>
</html>
